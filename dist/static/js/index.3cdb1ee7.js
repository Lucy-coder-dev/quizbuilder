!function(){var e,t,r,n,i,s,o={6930:function(e,t,r){"use strict";var n=r("5893");r("7294");var i=r("9655"),s=r("9250"),o=r("1805"),l=r("6354"),a=r("9259"),c=r("3638"),d=r("4161"),u=r("454"),x=r("1136"),p=r("1702"),h=r("9047"),f=r("3904");let g=()=>{let[e,t]=(0,a.KO)(d.f6);return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-8",children:[(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto px-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-center bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"The QuizBuilder"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("button",{onClick:()=>t(!e),className:"px-6 py-2 bg-white border border-blue-500 text-blue-500 rounded-lg flex items-center gap-2 hover:bg-blue-50 transition-all",children:[e?(0,n.jsx)(c.IYd,{}):(0,n.jsx)(c.rDJ,{}),(0,n.jsx)("span",{children:e?"Edit Mode":"Preview Mode"})]}),(0,n.jsx)(h.T,{})]})]}),e?(0,n.jsx)(u.J,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.t,{}),(0,n.jsx)(p.A,{})]})]}),(0,n.jsx)(o.x7,{position:"top-right"})]})};t.Z=()=>(0,n.jsx)(i.UT,{children:(0,n.jsxs)(s.Z5,{children:[(0,n.jsx)(s.AW,{path:"/",element:(0,n.jsx)(g,{})}),(0,n.jsx)(s.AW,{path:"/quiz/:id",element:(0,n.jsx)(f.r,{})})]})})},4161:function(e,t,r){"use strict";r.d(t,{IP:function(){return s},f6:function(){return o},kX:function(){return i}});var n=r("4220");let i=(0,n.cn)({background:"",questions:[]}),s=(0,n.cn)([]),o=(0,n.cn)(!1)},1136:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});var n=r("5893"),i=r("9259"),s=r("6354"),o=r("3638"),l=r("4161");let a=()=>{let[e,t]=(0,i.KO)(l.kX);return(0,n.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 bg-white rounded-xl shadow-lg ring-1 ring-gray-100 hover:ring-blue-200 transition-all",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,n.jsx)(o.NOg,{className:"text-blue-500 text-xl"}),(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Background Information"})]}),(0,n.jsx)("textarea",{value:e.background,onChange:e=>t(t=>({...t,background:e.target.value})),className:"w-full h-40 p-4 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter background information"})]})}},1702:function(e,t,r){"use strict";r.d(t,{A:function(){return c}}),r("9560"),r("9734"),r("9929"),r("6301"),r("5123");var n=r("5893");r("7294");var i=r("9259"),s=r("3413"),o=r("361"),l=r("4161"),a=r("3043");let c=()=>{let[e,t]=(0,i.KO)(l.kX),r=(e,r)=>{t(t=>({...t,questions:t.questions.map(t=>t.id===e?{...t,...r}:t)}))},c=e=>{t(t=>({...t,questions:t.questions.filter(t=>t.id!==e)}))},d=e=>{let r={id:(0,s.x0)(),text:"",isCorrect:!1};t(t=>({...t,questions:t.questions.map(t=>t.id===e?{...t,options:[...t.options,r]}:t)}))},u=(e,r,n)=>{t(t=>({...t,questions:t.questions.map(t=>t.id===e?{...t,options:t.options.map(e=>e.id===r?{...e,...n}:"single"===t.type&&n.isCorrect?{...e,isCorrect:!1}:e)}:t)}))},x=(e,r)=>{t(t=>({...t,questions:t.questions.map(t=>t.id===e?{...t,options:t.options.filter(e=>e.id!==r)}:t)}))};return(0,n.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-md mt-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Questions"}),e.questions.map((e,t)=>(0,n.jsx)(a.Z,{question:e,index:t,onQuestionChange:r,onQuestionDelete:c,onOptionAdd:d,onOptionChange:u,onOptionDelete:x},e.id)),(0,n.jsxs)("button",{onClick:()=>{let e={id:(0,s.x0)(),text:"",type:"single",options:[]};t(t=>({...t,questions:[...t.questions,e]}))},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center space-x-2",children:[(0,n.jsx)(o.wEH,{})," ",(0,n.jsx)("span",{children:"Add Question"})]})]})}},454:function(e,t,r){"use strict";r.d(t,{J:function(){return l}}),r("793"),r("102"),r("5123"),r("9929"),r("6301"),r("9710"),r("9560"),r("9734");var n=r("5893");r("7294");var i=r("9259"),s=r("4161"),o=r("6354");let l=e=>{let{isAnswering:t=!1}=e,[r]=(0,i.KO)(s.kX),[l,a]=(0,i.KO)(s.IP),c=(e,t)=>{a(n=>{let i=n.find(t=>t.questionId===e),s=r.questions.find(t=>t.id===e);if(!s)return n;if("single"===s.type)return[...n.filter(t=>t.questionId!==e),{questionId:e,selectedOptions:[t]}];if(i){let r=i.selectedOptions.includes(t)?i.selectedOptions.filter(e=>e!==t):[...i.selectedOptions,t];return[...n.filter(t=>t.questionId!==e),{questionId:e,selectedOptions:r}]}return[...n,{questionId:e,selectedOptions:[t]}]})};return r.background||0!==r.questions.length?(0,n.jsxs)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 bg-white rounded-xl shadow-lg mt-6",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:t?"Quiz":"Preview"}),(0,n.jsx)("div",{className:"prose max-w-none mb-8 whitespace-pre-wrap",children:r.background}),r.questions.map((e,r)=>(0,n.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 p-6 bg-gray-50 rounded-xl border border-gray-100",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:["Question ",r+1,": ",e.text]}),(0,n.jsx)("div",{className:"space-y-3",children:e.options.map(r=>{var i;let s=null===(i=l.find(t=>t.questionId===e.id))||void 0===i?void 0:i.selectedOptions.includes(r.id);return(0,n.jsxs)("div",{onClick:()=>t&&c(e.id,r.id),className:`flex items-center gap-3 p-3 rounded-lg transition-all cursor-pointer ${t?"hover:bg-blue-50":""} ${s?"bg-blue-50 border border-blue-200":"hover:bg-white"}`,children:[(0,n.jsx)("input",{type:"single"===e.type?"radio":"checkbox",checked:s||!1,onChange:()=>{},disabled:!t,className:"w-5 h-5 text-blue-500 focus:ring-blue-500"}),(0,n.jsx)("span",{className:"text-gray-700",children:r.text})]},r.id)})})]},e.id))]}):(0,n.jsxs)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 bg-white rounded-xl shadow-lg mt-6",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Preview"}),(0,n.jsxs)("div",{className:"text-center p-8 text-gray-500",children:[(0,n.jsx)("p",{children:"No content to preview yet."}),(0,n.jsx)("p",{children:"Please add some background information and questions first."})]})]})}},9857:function(e,t,r){"use strict";r.d(t,{M:function(){return a}}),r("5646"),r("9774"),r("5123"),r("793"),r("102"),r("9929"),r("6301"),r("9560"),r("9734"),r("481"),r("3779"),r("9710");var n=r("5893");r("7294");var i=r("9259"),s=r("6354"),o=r("3638"),l=r("4161");let a=()=>{let e,t,[r]=(0,i.KO)(l.kX),[a]=(0,i.KO)(l.IP);let c=(e=0,t=r.questions.length,r.questions.forEach(t=>{let r=a.find(e=>e.questionId===t.id);if(!r)return;let n=t.options.filter(e=>e.isCorrect).map(e=>e.id);r.selectedOptions.length===n.length&&r.selectedOptions.every(e=>n.includes(e))&&e++}),{score:e,total:t,percentage:Math.round(e/t*100)});return(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 bg-white rounded-xl shadow-lg",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Quiz Results"}),(0,n.jsxs)("div",{className:"text-center p-6 mb-8 bg-gray-50 rounded-xl",children:[(0,n.jsxs)("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:[c.score," / ",c.total]}),(0,n.jsxs)("div",{className:"text-xl text-gray-600",children:["Score: ",c.percentage,"%"]})]}),(0,n.jsx)("div",{className:"space-y-6",children:r.questions.map((e,t)=>{let r=a.find(t=>t.questionId===e.id),i=e.options.filter(e=>e.isCorrect),s=r&&i.every(e=>r.selectedOptions.includes(e.id))&&r.selectedOptions.length===i.length;return(0,n.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[s?(0,n.jsx)(o._rq,{className:"text-green-500 text-xl"}):(0,n.jsx)(o.$Rx,{className:"text-red-500 text-xl"}),(0,n.jsxs)("h3",{className:"font-medium",children:["Question ",t+1]})]}),(0,n.jsx)("p",{className:"mb-4",children:e.text}),(0,n.jsx)("div",{className:"space-y-2",children:e.options.map(e=>{let t=null==r?void 0:r.selectedOptions.includes(e.id),i=e.isCorrect,s="bg-white";return t&&i?s="bg-green-50 border-green-200":t&&!i?s="bg-red-50 border-red-200":!t&&i&&(s="bg-green-50 border-green-200"),(0,n.jsx)("div",{className:`p-3 rounded-lg border ${s}`,children:e.text},e.id)})})]},e.id)})})]})}},9047:function(e,t,r){"use strict";r.d(t,{T:function(){return l}});var n=r("5893");r("7294");var i=r("6354"),s=r("3638"),o=r("766");let l=()=>{let{loading:e,saveQuiz:t}=(0,o.D)();return(0,n.jsxs)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,disabled:e,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-2",children:[(0,n.jsx)(s.PMT,{}),(0,n.jsx)("span",{children:e?"Saving...":"Share Quiz"})]})}},7507:function(e,t,r){"use strict";r.d(t,{B:function(){return l}});var n=r("5893"),i=r("7294"),s=r("3638"),o=r("6354");let l=i.memo(e=>{let{option:t,question:r,onOptionChange:i,onOptionDelete:l}=e;return(0,n.jsxs)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg group transition-colors",children:[(0,n.jsx)("input",{type:"single"===r.type?"radio":"checkbox",checked:t.isCorrect,onChange:e=>{i(r.id,t.id,{isCorrect:e.target.checked})},className:"w-5 h-5 text-blue-500 focus:ring-blue-500"}),(0,n.jsx)("input",{type:"text",value:t.text,onChange:e=>{i(r.id,t.id,{text:e.target.value})},className:"flex-1 p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter option text"}),(0,n.jsx)("button",{onClick:()=>l(r.id,t.id),className:"opacity-0 group-hover:opacity-100 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",children:(0,n.jsx)(s.Ybf,{})})]})})},3043:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}}),r("9560"),r("9734");var n=r("5893"),i=r("7294"),s=r("6354"),o=r("3638"),l=r("7507");let a=i.memo(e=>{let{question:t,index:r,onQuestionChange:i,onQuestionDelete:a,onOptionAdd:c,onOptionChange:d,onOptionDelete:u}=e;return(0,n.jsxs)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6 p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border-l-4 border-blue-50 hover:border-blue-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["Question ",r+1]}),(0,n.jsx)("button",{onClick:()=>a(t.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:(0,n.jsx)(o.Ybf,{})})]}),(0,n.jsx)("input",{type:"text",value:t.text,onChange:e=>i(t.id,{text:e.target.value}),className:"w-full p-3 border border-gray-200 rounded-lg mb-4 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter question text"}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)("select",{value:t.type,onChange:e=>i(t.id,{type:e.target.value}),className:"p-3 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,n.jsx)("option",{value:"single",children:"Single Choice"}),(0,n.jsx)("option",{value:"multiple",children:"Multiple Choice"})]})}),(0,n.jsx)("div",{className:"space-y-3",children:t.options.map(e=>(0,n.jsx)(l.B,{option:e,question:t,onOptionChange:d,onOptionDelete:u},e.id))}),(0,n.jsxs)("button",{onClick:()=>c(t.id),className:"mt-4 px-4 py-2 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded-lg flex items-center gap-2 transition-colors",children:[(0,n.jsx)(o.OvN,{})," ",(0,n.jsx)("span",{children:"Add Option"})]})]})})},693:function(e,t,r){"use strict";var n=r("5893");r("7294");var i=r("745"),s=r("6930");r("9977"),i.createRoot(document.getElementById("root")).render((0,n.jsx)(s.Z,{}))},1377:function(e,t,r){"use strict";r.d(t,{_:function(){return i}}),r("777"),r("4510");var n=r("3413");let i=()=>({saveQuiz:e=>{try{let t=(0,n.x0)(8),r=`quiz_${t}`,i=JSON.stringify(e);if(!i)throw Error("Invalid quiz data");if(localStorage.setItem(r,i),!localStorage.getItem(r))throw Error("Failed to save quiz");return t}catch(e){throw console.error("Save to localStorage error:",e),e}},loadQuiz:e=>{try{let t=`quiz_${e}`,r=localStorage.getItem(t);if(!r)return null;let n=JSON.parse(r);if(!n||!n.questions||!Array.isArray(n.questions))throw Error("Invalid quiz format");return n}catch(e){return console.error("Load from localStorage error:",e),null}}})},766:function(e,t,r){"use strict";r.d(t,{D:function(){return c}}),r("777"),r("6330"),r("4110"),r("5863");var n=r("7294"),i=r("9259"),s=r("9250"),o=r("1805"),l=r("4161"),a=r("1377");let c=()=>{let[e,t]=(0,n.useState)(!1),[r]=(0,i.KO)(l.kX),c=(0,s.s0)(),{saveQuiz:d,loadQuiz:u}=(0,a._)();return{loading:e,saveQuiz:async()=>{try{t(!0);let e=d(r);if(!u(e))throw Error("Failed to verify saved quiz");let n=window.location.origin,i=`${n}/#/quiz/${e}?source=feishu`;await navigator.clipboard.writeText(i),o.ZP.success("Quiz link copied! You can paste it in Feishu doc now.")}catch(e){console.error("Save quiz error:",e),o.ZP.error("Failed to save quiz")}finally{t(!1)}},loadQuiz:async e=>{try{t(!0);let r=u(e);if(!r)return"feishu"===new URLSearchParams(window.location.search).get("source")?o.ZP.error("Quiz not found. The quiz may have expired or been deleted."):o.ZP.error("Quiz not found"),c("/"),null;if(!r.questions||!Array.isArray(r.questions))return o.ZP.error("Invalid quiz format"),c("/"),null;return r}catch(e){return console.error("Load quiz error:",e),o.ZP.error("Failed to load quiz"),c("/"),null}finally{t(!1)}}}}},3904:function(e,t,r){"use strict";r.d(t,{r:function(){return u}});var n=r("5893"),i=r("7294"),s=r("9250"),o=r("9259"),l=r("4161"),a=r("766"),c=r("454"),d=r("9857");let u=()=>{let{id:e}=(0,s.UO)(),[t,r]=i.useState(!1),[,u]=(0,o.KO)(l.kX),{loading:x,loadQuiz:p}=(0,a.D)();return((0,i.useEffect)(()=>{e&&p(e).then(e=>{e&&u(e)})},[e]),x)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):(0,n.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Take Quiz"}),t?(0,n.jsx)(d.M,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.J,{isAnswering:!0}),(0,n.jsx)("button",{onClick:()=>r(!0),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit"})]})]})}},9977:function(e,t,r){"use strict";r.r(e.exports={})}},l={};function a(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={exports:{}};return o[e].call(r.exports,r,r.exports,a),r.exports}a.m=o,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var i=Object.create(null);a.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(function(e){s[e]=function(){return r[e]}});return s.default=function(){return r},a.d(i,s),i},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.k=function(e){return""+e+".css"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r=[],a.O=function(e,t,n,i){if(t){i=i||0;for(var s=r.length;s>0&&r[s-1][2]>i;s--)r[s]=r[s-1];r[s]=[t,n,i];return}for(var o=1/0,s=0;s<r.length;s++){for(var t=r[s][0],n=r[s][1],i=r[s][2],l=!0,c=0;c<t.length;c++)o>=i&&Object.keys(a.O).every(function(e){return a.O[e](t[c])})?t.splice(c--,1):(l=!1,i<o&&(o=i));if(l){r.splice(s--,1);var d=n();void 0!==d&&(e=d)}}return e},a.p="/",n={980:0},a.O.j=function(e){return 0===n[e]},i=function(e,t){var r=t[0],i=t[1],s=t[2],o,l,c=0;if(r.some(function(e){return 0!==n[e]})){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(s)var d=s(a)}for(e&&e(t);c<r.length;c++)l=r[c],a.o(n,l)&&n[l]&&n[l][0](),n[l]=0;return a.O(d)},(s=self.webpackChunk_=self.webpackChunk_||[]).forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s));var c=a.O(void 0,["126","518","118","361"],function(){return a("693")});a.O(c)}();